webpackJsonp([1],{"90Fk":function(e,t,n){var s={"./look.svg":"Ed7H","./more.svg":"gZ6Q","./voice.svg":"JV+L"};function a(e){return n(o(e))}function o(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function(){return Object.keys(s)},a.resolve=o,e.exports=a,a.id="90Fk"},Ed7H:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("Wc9H"),a=n.n(s),o=n("IaZV"),i=n.n(o),c=new a.a({id:"icon-look",use:"icon-look-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-look"><defs><style type="text/css"></style></defs><path d="M512 102.4c225.28 0 409.6 184.32 409.6 409.6S737.28 921.6 512 921.6 102.4 737.28 102.4 512 286.72 102.4 512 102.4m0-51.2C257.706667 51.2 51.2 257.706667 51.2 512s206.506667 460.8 460.8 460.8 460.8-206.506667 460.8-460.8S766.293333 51.2 512 51.2z" fill="#515151" p-id="15269" /><path d="M711.68 588.8c-22.186667 88.746667-104.106667 155.306667-199.68 155.306667s-177.493333-66.56-199.68-155.306667h399.36m58.026667-51.2H254.293333c0 141.653333 116.053333 257.706667 257.706667 257.706667s257.706667-116.053333 257.706667-257.706667z" fill="#515151" p-id="15270" /><path d="M351.573333 361.813333m-68.266666 0a68.266667 68.266667 0 1 0 136.533333 0 68.266667 68.266667 0 1 0-136.533333 0Z" fill="#515151" p-id="15271" /><path d="M675.84 361.813333m-68.266667 0a68.266667 68.266667 0 1 0 136.533334 0 68.266667 68.266667 0 1 0-136.533334 0Z" fill="#515151" p-id="15272" /></symbol>'});i.a.add(c);t.default=c},GRGU:function(e,t){},"JV+L":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("Wc9H"),a=n.n(s),o=n("IaZV"),i=n.n(o),c=new a.a({id:"icon-voice",use:"icon-voice-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-voice"><defs><style type="text/css"></style></defs><path d="M582.1 256.4c133.8 141.7 133.8 371.1 0 511.1l-39.8-42.2c111.5-118.1 111.5-308.7 0-426.8l39.8-42.1z m-79.7 86.1c89.2 94.5 89.2 246.3 0 340.8L462.6 641c66.9-70.9 66.9-185.6 0-256.4l39.8-42.1z m-81.2 84.3c44.6 47.2 44.6 124.8 1.6 172.1l-81.2-86 79.6-86.1z" p-id="5197" fill="#515151" /><path d="M512 959.2C265.4 959.2 64.8 758.6 64.8 512S265.4 64.8 512 64.8 959.2 265.4 959.2 512 758.6 959.2 512 959.2z m0-851.8c-223.1 0-404.6 181.5-404.6 404.6S288.9 916.6 512 916.6 916.6 735.1 916.6 512 735.1 107.4 512 107.4z" p-id="5198" fill="#515151" /></symbol>'});i.a.add(c);t.default=c},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},a,!1,function(e){n("GRGU")},"data-v-53319a72",null).exports,i=n("/ocq"),c=n("Dd8w"),r=n.n(c),l={name:"leftMessage",props:{content:String,leftImage:String}},u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"left_chat_wrap"},[t("div",{staticClass:"img_wrap"},[t("img",{attrs:{src:this.leftImage,alt:""}})]),this._v(" "),t("div",{staticClass:"main_content"},[this._v("\n    "+this._s(this.content)+"\n  ")])])},staticRenderFns:[]};var g=n("VU/8")(l,u,!1,function(e){n("g67b")},"data-v-e8fa4a2e",null).exports,d={name:"rightMessage",props:{content:String,rightImage:String}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"right_chat_wrap"},[t("div",{staticClass:"img_wrap"},[t("img",{attrs:{src:this.rightImage,alt:""}})]),this._v(" "),t("div",{staticClass:"main_content"},[this._v("\n    "+this._s(this.content)+"\n  ")])])},staticRenderFns:[]};var f=n("VU/8")(d,p,!1,function(e){n("Ov2r")},"data-v-25c11658",null).exports,m={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"time_line"},[this._v("\n  08:40\n")])},staticRenderFns:[]};var h=n("VU/8")({name:"timeLine"},m,!1,function(e){n("d1BV")},"data-v-11ea0227",null).exports,v=n("NYxO"),w={name:"chat",components:{LeftMessage:g,RightMessage:f,TimeLine:h},data:function(){return{messageText:"",heightTimer:-1,content_have:!1}},computed:r()({},Object(v.b)(["chatData"])),mounted:function(){this.$store.dispatch("listenConnect",this.myCon);var e={apiUrl:this.WebIM.config.apiURL,user:"lidongxu",pwd:"111111",appKey:this.WebIM.config.appkey};this.myCon.open(e),document.onkeypress=this.keypress},methods:{changeTextArea:function(e){var t=e.target;this.heightTimer=setInterval(function(){t.style.height=t.scrollHeight+"px"},2),this.content_have=t.value.length>0},clearTime:function(){clearInterval(this.heightTimer)},sub:function(){return!1},sendMessage:function(){this.$store.dispatch("localMessageChange",this.messageText);var e,t,n=this;e=n.myCon.getUniqueId(),(t=new n.WebIM.message("txt",e)).set({msg:n.messageText,to:"wangergou",roomType:!1,success:function(e,t){console.log("send Success")},fail:function(e){console.log("Send private text error")}}),t.body.chatType="singleChat",n.myCon.send(t.body),this.$el.getElementsByClassName("chat_main_content")[0].scrollTop=this.$refs.chat_main.scrollHeight}}},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat_wrap"},[n("div",{ref:"chat_main",staticClass:"chat_main_content"},[n("TimeLine"),e._v(" "),e._l(e.chatData,function(e,t){return n("div",{key:t,staticClass:"chat_item"},[e.own?n("right-message",{attrs:{rightImage:"static/img/cat.png",content:e.content}}):n("left-message",{attrs:{leftImage:"static/img/dog.png",content:e.content}})],1)})],2),e._v(" "),n("div",{staticClass:"bottom_wrap"},[n("svg-icon",{attrs:{iconClass:"voice",className:"svg-size"}}),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.messageText,expression:"messageText"}],ref:"myTextArea",staticClass:"message_input",domProps:{value:e.messageText},on:{input:[function(t){t.target.composing||(e.messageText=t.target.value)},e.changeTextArea],focus:e.changeTextArea,blur:e.clearTime,onkeypress:function(e){}}}),e._v(" "),n("div",{staticClass:"send_btn",class:{send_btn_ok:e.content_have},on:{click:e.sendMessage}},[e._v("发送")]),e._v(" "),n("svg-icon",{attrs:{iconClass:"look",className:"svg-size"}}),e._v(" "),n("svg-icon",{attrs:{iconClass:"more",className:"svg-size"}})],1)])},staticRenderFns:[]};var x=n("VU/8")(w,_,!1,function(e){n("iCjp")},"data-v-2c36eb4a",null).exports;s.a.use(i.a);var y=new i.a({routes:[{path:"/",name:"Chat",component:x},{path:"*",redirect:"/"}]}),M=n("Xxa5"),C=n.n(M),b=n("exGp"),k=n.n(b),I={chatData:function(e){return e.chatData}};s.a.use(v.a);var T=new v.a.Store({state:{chatData:[{type:"text",own:!0,content:"晚上吃饭了嘛?"},{type:"text",own:!1,content:"还没吃呢, 你准备请我吃点什么?"},{type:"text",own:!0,content:"吃饭之前, 先念诗吧"},{type:"text",own:!1,content:"\n人生若只如初见，何事秋风悲画扇。\n等闲变却故人心，却道故人心易变。\n骊山语罢清宵半，泪雨零铃终不怨。\n何如薄幸锦衣郎，比翼连枝当日愿。"}]},mutations:{changeMessage:function(e,t){e.chatData.push(t)}},actions:{listenConnect:function(e,t){var n=e.commit,s=t;s.listen({onOpened:function(e){},onClosed:function(e){},onTextMessage:function(e){n("changeMessage",{type:"text",own:!1,content:e.data})},onEmojiMessage:function(e){},onPictureMessage:function(e){},onCmdMessage:function(e){},onAudioMessage:function(e){},onLocationMessage:function(e){},onFileMessage:function(e){},onVideoMessage:function(e){var t=document.getElementById("privateVideo"),n={url:e.url,headers:{Accept:"audio/mp4"},onFileDownloadComplete:function(e){t.src=WebIM.utils.parseDownloadResponse.call(s,e)},onFileDownloadError:function(){console.log("File down load error.")}};WebIM.utils.download.call(s,n)},onPresence:function(e){},onRoster:function(e){},onInviteMessage:function(e){},onOnline:function(){},onOffline:function(){},onError:function(e){},onBlacklistUpdate:function(e){console.log(e)},onReceivedMessage:function(e){},onDeliveredMessage:function(e){},onReadMessage:function(e){},onCreateGroup:function(e){},onMutedMessage:function(e){}})},localMessageChange:function(e,t){var n=this,s=e.commit;return k()(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s("changeMessage",{type:"text",own:!0,content:t});case 1:case"end":return e.stop()}},e,n)}))()}},getters:I}),R={name:"SvgIcon",props:{iconClass:{type:String,required:!0},className:{type:String,default:""}},computed:{iconName:function(){return"#icon-"+this.iconClass},svgClass:function(){return this.className?"svg-icon "+this.className:"svg-icon"}}},L={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",this._g({class:this.svgClass,attrs:{"aria-hidden":"true"}},this.$listeners),[t("use",{attrs:{"xlink:href":this.iconName}})])},staticRenderFns:[]};var S=n("VU/8")(R,L,!1,function(e){n("pWiD")},"data-v-22a5e8a6",null).exports;s.a.component("svg-icon",S);var N,U=n("90Fk");(N=U).keys().map(N);var V=n("zecL"),W=n.n(V);s.a.config.productionTip=!1;var z=window.WebIM=W.a;s.a.prototype.WebIM=z;var E=new z.connection({isMultiLoginSessions:z.config.isMultiLoginSessions,https:"boolean"==typeof z.config.https?z.config.https:"https:"===location.protocol,url:z.config.xmppURL,heartBeatWait:z.config.heartBeatWait,autoReconnectNumMax:z.config.autoReconnectNumMax,autoReconnectInterval:z.config.autoReconnectInterval,apiUrl:z.config.apiURL,isAutoLogin:!0});s.a.prototype.myCon=E,new s.a({el:"#app",router:y,store:T,components:{App:o},template:"<App/>"})},Ov2r:function(e,t){},d1BV:function(e,t){},g67b:function(e,t){},gZ6Q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("Wc9H"),a=n.n(s),o=n("IaZV"),i=n.n(o),c=new a.a({id:"icon-more",use:"icon-more-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-more"><defs><style type="text/css"></style></defs><path d="M512 958.016611c-119.648434 0-232.1288-46.367961-316.736783-130.559656-84.640667-84.255342-131.263217-196.255772-131.263217-315.455235 0-119.168499 46.624271-231.199892 131.232254-315.424271 84.607983-84.191695 197.088348-130.559656 316.736783-130.559656s232.1288 46.367961 316.704099 130.559656c84.67163 84.224378 131.263217 196.255772 131.263217 315.391587 0.032684 119.199462-46.591587 231.232576-131.263217 315.455235C744.1288 911.615966 631.648434 958.016611 512 958.016611zM512 129.983389c-102.623626 0-199.071738 39.743475-271.583282 111.936783-72.480581 72.12794-112.416718 168.063432-112.416718 270.079828s39.903454 197.951888 112.384034 270.047144c72.511544 72.191587 168.959656 111.936783 271.583282 111.936783 102.592662 0 199.071738-39.743475 271.583282-111.936783 72.480581-72.160624 112.416718-168.063432 112.384034-270.079828 0-102.016396-39.903454-197.919204-112.384034-270.016181C711.071738 169.759548 614.592662 129.983389 512 129.983389z" fill="#515151" p-id="6717" /><path d="M736.00086 480.00086 544.00086 480.00086 544.00086 288.00086c0-17.664722-14.336138-32.00086-32.00086-32.00086s-32.00086 14.336138-32.00086 32.00086l0 192L288.00086 480.00086c-17.664722 0-32.00086 14.336138-32.00086 32.00086s14.336138 32.00086 32.00086 32.00086l192 0 0 192c0 17.695686 14.336138 32.00086 32.00086 32.00086s32.00086-14.303454 32.00086-32.00086L544.00258 544.00086l192 0c17.695686 0 32.00086-14.336138 32.00086-32.00086S753.696546 480.00086 736.00086 480.00086z" fill="#515151" p-id="6718" /></symbol>'});i.a.add(c);t.default=c},iCjp:function(e,t){},pWiD:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e3737bed522f18bf0066.js.map